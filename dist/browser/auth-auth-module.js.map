{"version":3,"sources":["webpack:///./src/app/auth/auth-routing.module.ts","webpack:///./src/app/auth/auth.module.ts","webpack:///./src/app/auth/components/login/login.component.html","webpack:///./src/app/auth/components/login/login.component.scss","webpack:///./src/app/auth/components/login/login.component.ts"],"names":[],"mappings":"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","file":"auth-auth-module.js","sourcesContent":["import {NgModule} from '@angular/core';\r\nimport {Routes, RouterModule} from '@angular/router';\r\nimport {LoginComponent} from './components/login/login.component';\r\nconst routes: Routes = [\r\n  {path: 'login', component: LoginComponent}\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule]\r\n})\r\nexport class AuthRoutingModule {\r\n}\r\n","import {NgModule} from '@angular/core';\r\nimport {AuthRoutingModule} from './auth-routing.module';\r\nimport {LoginComponent} from './components/login/login.component';\r\nimport {SharedModule} from '../shared/shared.module'; \r\n@NgModule({\r\n  declarations: [\r\n    LoginComponent\r\n  ],\r\n  imports: [ \r\n    SharedModule,\r\n    AuthRoutingModule\r\n  ]\r\n})\r\nexport class AuthModule {\r\n}\r\n","module.exports = \"<div class=\\\"modal show light-gray login-modal\\\">\\r\\n  <div class=\\\"login-header\\\" >\\r\\n\\r\\n  </div>\\r\\n  <div class=\\\"login-box\\\">\\r\\n    <!-- /.login-logo -->\\r\\n    <div class=\\\"login-box-body material-shadow w3-animate-zoom theme-light\\\" style=\\\"padding: 40px\\\" >\\r\\n      <div class=\\\"login-logo w3-animate-top\\\">\\r\\n        <img src=\\\"/assets/img/logo.png\\\" alt=\\\"\\\" style=\\\"width: 100px\\\" >\\r\\n        <br>\\r\\n        <a   class=\\\"w3-text-white w3-large\\\" ><b> نظام ادارة المحتوى  </b></a>\\r\\n      </div>\\r\\n\\r\\n      <p class=\\\"login-box-msg hidden\\\"><b>{{ 'login with account' | trans }}</b></p>\\r\\n\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <span class=\\\"fa fa-user form-control-feedback w3-text-white\\\" style=\\\"padding-top: 3px\\\" ></span>\\r\\n          <input type=\\\"email\\\" class=\\\"app-form app-button theme-semi-dark w3-border-0\\\" [(ngModel)]=\\\"userAuth.email\\\" placeholder=\\\"{{ 'email or phone' | trans }}\\\">\\r\\n        </div>\\r\\n        <div class=\\\"form-group has-feedback\\\">\\r\\n          <input type=\\\"password\\\" class=\\\"app-form app-button theme-semi-dark w3-border-0\\\" [(ngModel)]=\\\"userAuth.password\\\" placeholder=\\\"{{ 'password' | trans }}\\\">\\r\\n          <span class=\\\"fa fa-key form-control-feedback w3-text-white\\\" style=\\\"padding-top: 3px\\\" ></span>\\r\\n        </div>\\r\\n        <div class=\\\"text-right w3-text-white\\\" >\\r\\n          <a  ><b>{{ \\\"forget password\\\" }}</b></a>\\r\\n        </div>\\r\\n        <br>\\r\\n        <div class=\\\"w3-block\\\">\\r\\n          <button type=\\\"button\\\" (click)=\\\"login()\\\" [disabled]=\\\"isSubmitted\\\" class=\\\"w3-block btn app-button material-shadow w3-white\\\">{{ 'Sign In' | trans }}</button>\\r\\n        </div>\\r\\n\\r\\n\\r\\n      <!-- /.social-auth-links\\r\\n\\r\\n      <a href=\\\"#\\\">I forgot my password</a><br>\\r\\n      <a href=\\\"register.html\\\" class=\\\"text-center\\\">Register a new membership</a>\\r\\n  -->\\r\\n    </div>\\r\\n    <!-- /.login-box-body -->\\r\\n  </div>\\r\\n\\r\\n</div>\\r\\n\"","module.exports = \".login-modal {\\n  /*\\r\\n background-image: url('/assets/img/footer.png');\\r\\n background-position: bottom;\\r\\n background-size: 100% auto;*/ }\\n\\n.login-header {\\n  height: 250px;\\n  background-color: #464775;\\n  width: 100%; }\\n\\n.login-box {\\n  margin-top: -11%; }\\n\\r\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYXV0aC9jb21wb25lbnRzL2xvZ2luL0U6XFxwcm9qZWN0XFxmYWN1bHR5LXN0dWRlbnQtZnJvbnRlbmQvc3JjXFxhcHBcXGF1dGhcXGNvbXBvbmVudHNcXGxvZ2luXFxsb2dpbi5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvYXV0aC9jb21wb25lbnRzL2xvZ2luL2xvZ2luLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFDO0VBQWM7Ozs2QkNJYyxFRERDOztBQUc3QjtFQUNFLGFBQWE7RUFDYix5QkFBeUI7RUFDekIsV0FBVyxFQUFBOztBQUliO0VBQ0MsZ0JBQWdCLEVBQUEiLCJmaWxlIjoic3JjL2FwcC9hdXRoL2NvbXBvbmVudHMvbG9naW4vbG9naW4uY29tcG9uZW50LnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIgLmxvZ2luLW1vZGFsIHsvKlxyXG4gYmFja2dyb3VuZC1pbWFnZTogdXJsKCcvYXNzZXRzL2ltZy9mb290ZXIucG5nJyk7XHJcbiBiYWNrZ3JvdW5kLXBvc2l0aW9uOiBib3R0b207XHJcbiBiYWNrZ3JvdW5kLXNpemU6IDEwMCUgYXV0bzsqL1xyXG4gfVxyXG5cclxuIC5sb2dpbi1oZWFkZXIge1xyXG4gICBoZWlnaHQ6IDI1MHB4O1xyXG4gICBiYWNrZ3JvdW5kLWNvbG9yOiAjNDY0Nzc1O1xyXG4gICB3aWR0aDogMTAwJTtcclxuIH1cclxuXHJcblxyXG4gLmxvZ2luLWJveCB7XHJcbiAgbWFyZ2luLXRvcDogLTExJTtcclxuIH1cclxuIiwiLmxvZ2luLW1vZGFsIHtcbiAgLypcclxuIGJhY2tncm91bmQtaW1hZ2U6IHVybCgnL2Fzc2V0cy9pbWcvZm9vdGVyLnBuZycpO1xyXG4gYmFja2dyb3VuZC1wb3NpdGlvbjogYm90dG9tO1xyXG4gYmFja2dyb3VuZC1zaXplOiAxMDAlIGF1dG87Ki8gfVxuXG4ubG9naW4taGVhZGVyIHtcbiAgaGVpZ2h0OiAyNTBweDtcbiAgYmFja2dyb3VuZC1jb2xvcjogIzQ2NDc3NTtcbiAgd2lkdGg6IDEwMCU7IH1cblxuLmxvZ2luLWJveCB7XG4gIG1hcmdpbi10b3A6IC0xMSU7IH1cbiJdfQ== */\"","import {Component, OnInit} from '@angular/core';\r\nimport {ActivatedRoute, Router} from '@angular/router';\r\nimport {AuthService} from '../../../shared/services/auth.service';\r\nimport { Cache } from '../../../shared/cache';\r\nimport { Message } from '../../../shared/message';\r\nimport { AppModule } from '../../../app.module';\r\nimport { Helper } from 'src/app/shared/helper';\r\n\r\n@Component({\r\n  selector: 'app-login',\r\n  styleUrls: ['./login.component.scss'],\r\n  templateUrl: './login.component.html'\r\n})\r\nexport class LoginComponent implements OnInit {\r\n\r\n  public userAuth: any = {};\r\n\r\n  public doc: any = AppModule.doc;\r\n\r\n  constructor(\r\n    private authService: AuthService,\r\n    private route: ActivatedRoute,\r\n    private router: Router\r\n  ) {}\r\n\r\n  public isSubmitted = false;\r\n\r\n  ngOnInit() {\r\n    //this.doc.jquery('body').addClass('login-background');\r\n    this.route.queryParams.subscribe((params) => {\r\n      // noinspection TsLint\r\n    });\r\n  }\r\n\r\n  login() {\r\n    if (!Helper.validator(this.userAuth, ['email', 'password']))\r\n      return Message.error(Helper.trans('fill all data'));\r\n\r\n    this.isSubmitted = true;\r\n\r\n    this.authService.login(this.userAuth).subscribe((result) => {\r\n        const data: any = result;\r\n\r\n        if (data.status == 1) {\r\n          // cache user\r\n          Cache.set(AuthService.USER_PRFIX, data.data);\r\n\r\n          // cache api token\r\n          Cache.set(AuthService.API_TOKEN_PRFIX, data.data.api_token);\r\n          this.router.navigate(['/']).then().catch();\r\n        } else {\r\n          Message.error(data.message);\r\n        }\r\n\r\n        this.isSubmitted = false;\r\n      },\r\n      (e) => {\r\n        Message.error(e);\r\n        this.isSubmitted = false;\r\n      }\r\n    );\r\n  }\r\n}\r\n"],"sourceRoot":""}